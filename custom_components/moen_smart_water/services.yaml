start_water:
  name: Start Water
  description: Start water flow with specified temperature and flow rate (runs until manually stopped)
  fields:
    device_id:
      name: Device
      description: The Moen Smart Faucet device
      required: true
      selector:
        device:
          integration: moen_smart_water
    temperature:
      name: Temperature
      description: Water temperature in Celsius (or use preset like 'coldest', 'hottest', 'equal')
      required: false
      default: "coldest"
      selector:
        text:
    flow_rate:
      name: Flow Rate
      description: Flow rate percentage (0-100)
      required: false
      default: 100
      selector:
        number:
          min: 0
          max: 100
          unit_of_measurement: "%"

dispense_volume:
  name: Dispense Volume
  description: Dispense a specific volume of water (wave hand to start, auto-stops when volume reached). Flow rate is automatically set to 100% to accurately dispense the target volume.
  fields:
    device_id:
      name: Device
      description: The Moen Smart Faucet device
      required: true
      selector:
        device:
          integration: moen_smart_water
    volume_ml:
      name: Volume (ml)
      description: Volume of water to dispense in milliliters
      required: true
      selector:
        number:
          min: 50
          max: 2000
          unit_of_measurement: ml
    temperature:
      name: Temperature
      description: Water temperature (optional - can be "coldest", "equal" (50/50 mix), "hottest", or numeric °C). Temperature may not prewarm with dispense command.
      required: false
      selector:
        text:
    timeout:
      name: Timeout (seconds)
      description: Maximum time to dispense water in seconds (optional, reserved for future use)
      required: false
      selector:
        number:
          min: 10
          max: 300
          unit_of_measurement: s

stop_water:
  name: Stop Water
  description: Stop water flow from the Moen Smart Faucet
  fields:
    device_id:
      name: Device
      description: The Moen Smart Faucet device
      required: true
      selector:
        device:
          integration: moen_smart_water

get_device_status:
  name: Get Device Status
  description: Get the current status and shadow data for a Moen Smart Faucet device
  fields:
    device_id:
      name: Device
      description: The Moen Smart Faucet device
      required: true
      selector:
        device:
          integration: moen_smart_water

get_user_profile:
  name: Get User Profile
  description: Get the user profile information from the Moen API
  fields: {}

set_temperature:
  name: Set Temperature
  description: Set the water temperature for the Moen Smart Faucet
  fields:
    device_id:
      name: Device
      description: The Moen Smart Faucet device
      required: true
      selector:
        device:
          integration: moen_smart_water
    temperature:
      name: Temperature
      description: Water temperature in Celsius
      required: true
      selector:
        number:
          min: 0
          max: 100
          unit_of_measurement: "°C"
    flow_rate:
      name: Flow Rate
      description: Flow rate percentage (0-100)
      required: false
      default: 100
      selector:
        number:
          min: 0
          max: 100
          unit_of_measurement: "%"

set_default_flow_rate:
  name: Set Default Flow Rate
  description: Set the default flow rate percentage for gesture activation (wave hand) on the Moen Smart Faucet
  fields:
    device_id:
      name: Device
      description: The Moen Smart Faucet device
      required: true
      selector:
        device:
          integration: moen_smart_water
    default_flow_rate:
      name: Default Flow Rate
      description: Default flow rate percentage (0-100) used when activating via gesture
      required: true
      selector:
        number:
          min: 0
          max: 100
          unit_of_measurement: "%"
